
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shivdaas</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background: #f2f2f2;
            color: #333;
        }
        header {
            background-color: #4a148c;
            color: white;
            padding: 1rem;
            text-align: center;
            font-size: 2rem;
            font-weight: bold;
        }
        section {
            padding: 2rem;
        }
        h2 {
            color: #4a148c;
        }
        .file-list {
            margin: 1rem 0;
        }
        .file-item {
            background: white;
            margin: 0.5rem 0;
            padding: 1rem;
            border-radius: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        audio {
            width: 200px;
        }
        footer {
            background: #ddd;
            padding: 1rem;
            text-align: center;
            font-size: 0.9rem;
        }
        .btn {
            background-color: #4a148c;
            color: white;
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 4px;
            text-decoration: none;
            font-size: 0.9rem;
        }
    </style>
</head>
<body>
    <header>Shivdaas</header>

    <section>
        <h2>Books</h2>
        <div class="file-list" id="books-list">
            <!-- Book files will appear here -->
        </div>
    </section>

    <section>
        <h2>Audios</h2>
        <div class="file-list" id="audios-list">
            <!-- Audio files will appear here -->
        </div>
    </section>

    <footer>
        Site Views: <img src="https://hitwebcounter.com/counter/counter.php?page=1234567&style=0006&nbdigits=5&type=page&initCount=0" title="Web Counter" Alt="counter" border="0" />
    </footer>

    <script>
        async function loadFiles(folder, containerId, isAudio = false) {
            try {
                const response = await fetch(folder);
                const text = await response.text();
                const parser = new DOMParser();
                const doc = parser.parseFromString(text, "text/html");
                const files = [...doc.links].filter(link => link.href.includes(folder) && !link.href.endsWith("/"));
                const container = document.getElementById(containerId);
                files.forEach(file => {
                    const fileName = decodeURIComponent(file.href.split("/").pop());
                    const div = document.createElement("div");
                    div.className = "file-item";
                    if (isAudio) {
                        div.innerHTML = `<span>${fileName}</span>
                            <audio controls src="${folder}/${fileName}"></audio>
                            <a class="btn" href="${folder}/${fileName}" download>Download</a>`;
                    } else {
                        div.innerHTML = `<span>${fileName}</span>
                            <a class="btn" href="${folder}/${fileName}" download>Download</a>`;
                    }
                    container.appendChild(div);
                });
            } catch (err) {
                console.error("Error loading files:", err);
            }
        }

        loadFiles("books", "books-list");
        loadFiles("audios", "audios-list", true);
    </script>
</body>
</html>
